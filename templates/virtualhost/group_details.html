{% extends 'virtualhost/group_tabs.html' %}
{% load xmppserverui_tags %}

{% block title %}Edit {{ group }} details{% endblock %}

{% block tab_content %}
{% check_user_perms 'virtualhost.delete_group' as virtualhost_delete_group_perm %}
<div class="tab-pane fade show active">
    <div class="row no-gutters">
        <div class="col page-content">
            <form method="post" action="{% url 'virtualhost:group-details' group.id %}">
                {% csrf_token %}

                {% with form.group as field %}
                    {% include 'include/input_field.html' %}
                {% endwith %}
                {% with form.host as field %}
                    {% include 'include/input_field.html' %}
                {% endwith %}
                {% with form.name as field %}
                    {% include 'include/input_field.html' %}
                {% endwith %}
                {% with form.description as field %}
                    {% include 'include/input_field.html' %}
                {% endwith %}

                {% for error in form.non_field_errors %}
                    <div class="form-group row">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-9 non-field-error">
                            {{ error }}
                        </div>
                    </div>
                 {% endfor %}

                <div class="row form-group">
                    <div class="col-sm-3"></div>
                    <div class="col-sm-9">
                        <button type="submit" class="btn btn-primary">Save</button>
                        {% if virtualhost_delete_group_perm %}
                        <a href="{% url 'virtualhost:group-delete' group.id %}" class="btn btn-danger">Delete</a>
                        {% endif %}
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}